
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://balsam.readthedocs.io/en/latest/tutorials/quickstart/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../user-guide/installation/">
      
      
      <link rel="icon" href="../../img/balsam_favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Getting Started - Balsam</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="indigo" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Balsam" class="md-header__button md-logo" aria-label="Balsam" data-md-component="logo">
      
  <img src="../../img/balsam_favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Balsam
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/argonne-lcf/balsam" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    argonne-lcf/balsam
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guide/installation/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/contributing/" class="md-tabs__link">
          
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../development/deploy/" class="md-tabs__link">
        
  
    
  
  Admin Guide

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../community/publications/" class="md-tabs__link">
        
  
    
  
  Publications

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../LICENSE/" class="md-tabs__link">
        
  
    
  
  License

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Balsam" class="md-nav__button md-logo" aria-label="Balsam" data-md-component="logo">
      
  <img src="../../img/balsam_favicon.ico" alt="logo">

    </a>
    Balsam
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/argonne-lcf/balsam" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    argonne-lcf/balsam
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in" class="md-nav__link">
    <span class="md-ellipsis">
      Log In
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-balsam-site" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Balsam Site
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-apps" class="md-nav__link">
    <span class="md-ellipsis">
      Set up your Apps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Add Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-it-run" class="md-nav__link">
    <span class="md-ellipsis">
      Make it run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-complete-python-example" class="md-nav__link">
    <span class="md-ellipsis">
      A complete Python example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-jobs-from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting Jobs from the command line
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/site-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating Balsam Sites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/appdef/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining Apps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Command Line
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Python API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/batchjob/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executing Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow Monitoring and Analytics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/elastic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auto Scaling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/transfer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Transfers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instructions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/data-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding the Data Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/layout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Layout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/porting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Porting to New Sites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Python REST Client
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/publications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publications
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in" class="md-nav__link">
    <span class="md-ellipsis">
      Log In
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-balsam-site" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Balsam Site
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-your-apps" class="md-nav__link">
    <span class="md-ellipsis">
      Set up your Apps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Add Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-it-run" class="md-nav__link">
    <span class="md-ellipsis">
      Make it run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-complete-python-example" class="md-nav__link">
    <span class="md-ellipsis">
      A complete Python example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-jobs-from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting Jobs from the command line
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<p>This tutorial gets you up and running with a new Balsam Site quickly.  Since
Balsam is highly platform-agnostic, you can follow along by choosing from any of
the available default site setups:</p>
<ul>
<li>A local MacOS or Linux system</li>
<li>Aurora</li>
<li>Perlmutter</li>
<li>Polaris</li>
<li>Sunspot</li>
</ul>
<h2 id="install">Install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h2>
<p>First create a new virtualenv and install Balsam:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>my-env
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>my-env/bin/activate
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--pre<span class="w"> </span>balsam
</code></pre></div>
<h2 id="log-in">Log In<a class="headerlink" href="#log-in" title="Permanent link">&para;</a></h2>
<p>Now that <code>balsam</code> is installed, you need to log in. 
Logging in fetches an access token that is used to identify you 
in all future API interactions, until the token expires and you have to log in again.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>login
<span class="c1"># Follow the prompt to authenticate</span>
</code></pre></div>
<p>Once you are logged in, you can create a Balsam Site for job execution, or send jobs to any of your other existing Sites.</p>
<div class="admonition warning">
<p class="admonition-title">Login temporarily restricted</p>
<p>Balsam is currently in a pre-release stage and the web service is hosted on limited resources.  Consequently, logins are limited to pre-authorized users.  Please contact the <a href="mailto:support@alcf.anl.gov">ALCF Help Desk</a> to request early access membership to the Balsam user group. </p>
</div>
<h2 id="create-a-balsam-site">Create a Balsam Site<a class="headerlink" href="#create-a-balsam-site" title="Permanent link">&para;</a></h2>
<p>All Balsam workflows are namespaced under <strong>Sites</strong>: self-contained project
spaces belonging to individual users. You can use Balsam to manage
Sites on multiple HPC systems from a single shell or Python program.
This is one of the key strengths of Balsam: the usage looks exactly the same
whether you're running locally or managing jobs across multiple supercomputers.</p>
<p>Let's start by creating a Balsam Site in a folder named <code>./my-site</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>site<span class="w"> </span>init<span class="w"> </span>./my-site
<span class="c1"># Select the default configuration for your machine, e.g. Polaris</span>
</code></pre></div>
<p>You will be prompted to select a default Site configuration and to enter a
<strong>unique name</strong> for your Site.  The directory <code>my-site/</code> will then be created
and preconfigured for the chosen platform.  You can list your Sites with the <code>balsam
site ls</code> command.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>site<span class="w"> </span>ls

<span class="w">   </span>ID<span class="w">             </span>Name<span class="w">   </span>Path<span class="w">                               </span>Active
<span class="w">   </span><span class="m">21</span><span class="w">       </span>theta-demo<span class="w">   </span>.../projects/datascience/my-site<span class="w">   </span>No<span class="w"> </span>
</code></pre></div>
<p>In order to actually run anything at the Site, <strong>you have to enter the Site
directory and start it</strong> with <code>balsam site start</code>.  This command launches
a persistent background agent which uses your access token to sync with the
Balsam service.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>my-site
$<span class="w"> </span>balsam<span class="w"> </span>site<span class="w"> </span>start
</code></pre></div>
<h2 id="set-up-your-apps">Set up your Apps<a class="headerlink" href="#set-up-your-apps" title="Permanent link">&para;</a></h2>
<p>Every Site has its own collection of Balsam <strong>Apps</strong>, which define the runnable
applications at that Site.   A Balsam App is declared by writing an <code>ApplicationDefinition</code>
class and running the <code>sync()</code> method from a Python program or interactive session.
The simplest <code>ApplicationDefinition</code> is just a template for a <code>bash</code>
command, with any workflow variables enclosed in double-curly braces:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">balsam.api</span> <span class="kn">import</span> <span class="n">ApplicationDefinition</span>

<span class="k">class</span> <span class="nc">Hello</span><span class="p">(</span><span class="n">ApplicationDefinition</span><span class="p">):</span>
    <span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;my-site&quot;</span>
    <span class="n">command_template</span> <span class="o">=</span> <span class="s2">&quot;echo Hello, {{ say_hello_to }}!&quot;</span>

<span class="n">Hello</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
</code></pre></div>
<p>Notice the attribute <code>site = "my-site"</code> which is <strong>required</strong> to associate the App <code>"Hello"</code> to the Site <code>"my-site"</code>. </p>
<p>In addition to shell command templates, we can define Apps that invoke a Python <code>run()</code>
function on a compute node:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VecNorm</span><span class="p">(</span><span class="n">ApplicationDefinition</span><span class="p">):</span>
    <span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;my-site&quot;</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vec</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>

<span class="n">VecNorm</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
</code></pre></div>
<p>After running the <code>sync()</code> methods for these Apps, they are serialized and
shipped into the Balsam cloud service.  We can then load and re-use these Apps when
submitting Jobs from other Python programs.</p>
<h2 id="add-jobs">Add Jobs<a class="headerlink" href="#add-jobs" title="Permanent link">&para;</a></h2>
<p>With these App classes in hand, we can now submit some jobs from the Python SDK.
Let's create a Job for both the <code>Hello</code> and <code>VecNorm</code> apps:  all we need is to 
pass a <strong>working directory</strong> and any necessary <strong>parameters</strong> for each:</p>
<div class="highlight"><pre><span></span><code><span class="n">hello</span> <span class="o">=</span> <span class="n">Hello</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">workdir</span><span class="o">=</span><span class="s2">&quot;demo/hello&quot;</span><span class="p">,</span> <span class="n">say_hello_to</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">VecNorm</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">workdir</span><span class="o">=</span><span class="s2">&quot;demo/norm&quot;</span><span class="p">,</span> <span class="n">vec</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</code></pre></div>
<p>Notice how shell command parameters (for <code>Hello</code>) and Python function parameters
(for <code>VecNorm</code>) are treated on the same footing.  We have now created two Jobs that will eventually run on the Site <code>my-site</code>, once compute resources are available.  These Jobs can be seen by running <code>balsam job ls</code>.</p>
<h2 id="make-it-run">Make it run<a class="headerlink" href="#make-it-run" title="Permanent link">&para;</a></h2>
<p>A key concept in Balsam is that <strong>Jobs</strong> only specify <em>what</em> to run, and you must
create <strong>BatchJobs</strong> to provision the resources that actually <em>execute</em> your jobs.
This way, your workflow definitions are neatly separated from the
concern of what allocation they run on.  You create a collection of Jobs first,
and then many of these Jobs can run inside one (or more) BatchJobs.</p>
<p>Since BatchJobs dynamically acquire Jobs, Balsam execution is fully <strong>elastic</strong> (just spin up more nodes by adding another BatchJob) and <strong>migratable</strong> (a Job that ran out of time in one batch allocation will get picked up in the next BatchJob).  BatchJobs will <em>automatically</em> run as many Jobs as they can at their Site.  You can simply
queue up one or several BatchJobs and let them divide and conquer your workload. </p>
<div class="highlight"><pre><span></span><code><span class="n">BatchJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">site_id</span><span class="o">=</span><span class="n">hello_job</span><span class="o">.</span><span class="n">site_id</span><span class="p">,</span>
    <span class="n">num_nodes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">wall_time_min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">job_mode</span><span class="o">=</span><span class="s2">&quot;mpi&quot;</span><span class="p">,</span>
    <span class="n">queue</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>  <span class="c1"># Use the appropriate batch queue, or `local`</span>
    <span class="n">project</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>  <span class="c1"># Use the appropriate allocation, or `local`</span>
<span class="p">)</span>
</code></pre></div>
<p>After running this command, the Site agent will fetch the new BatchJob and
perform the necessary pilot job submission with the local resource manager (e.g.
via <code>qsub</code>).  The <code>hello</code> and <code>norm</code> Jobs will run in the <code>workdirs</code> specified
above, located relative to the Site's <code>data/</code> directory.  You will find the
"Hello world" job output in a <code>job.out</code> file therein.  </p>
<p>For Python <code>run()</code> applications, the created <code>Jobs</code> can be handled like
<a href="https://docs.python.org/3/library/concurrent.futures.html#future-objects"><code>concurrent.futures.Future</code></a>
instances, where the <code>result()</code> method delivers the return value (or re-raises
the Exception) from a <code>run()</code> invocation.</p>
<div class="highlight"><pre><span></span><code><span class="k">assert</span> <span class="n">norm</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">==</span> <span class="mf">5.0</span>  <span class="c1"># (3**2 + 4**2)**0.5</span>
</code></pre></div>
<p>When creating BatchJobs, you can verify that the allocation was actually created
by checking with the local resource manager (e.g.  <code>qstat</code>) or by checking with
Balsam:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>queue<span class="w"> </span>ls
</code></pre></div>
<p>When the BatchJob with <code>job_mode="mpi"</code> starts, an <a href="../../user-guide/batchjob#selecting-a-launcher-job-mode">MPI mode launcher</a> pilot job acquires and runs the jobs. You will find helpful logs in the <code>logs/</code>  directory showing what's going on.  Follow the Job statuses with <code>balsam job ls</code>:</p>
<div class="highlight"><pre><span></span><code>$ balsam job ls

ID       Site      App          Workdir   State          Tags  
267280   my-site   Hello        test/2    JOB_FINISHED   {}    
267279   my-site   Hello        test/1    JOB_FINISHED   {} 
</code></pre></div>
<h2 id="a-complete-python-example">A complete Python example<a class="headerlink" href="#a-complete-python-example" title="Permanent link">&para;</a></h2>
<p>Now let's combine the Python snippets from above to show a
self-contained example of Balsam SDK usage (e.g. something
you might run from a Jupyter notebook):</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">balsam.api</span> <span class="kn">import</span> <span class="n">ApplicationDefinition</span><span class="p">,</span> <span class="n">BatchJob</span><span class="p">,</span> <span class="n">Job</span>

<span class="k">class</span> <span class="nc">VecNorm</span><span class="p">(</span><span class="n">ApplicationDefinition</span><span class="p">):</span>
    <span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;my-local-site&quot;</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vec</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>

<span class="n">jobs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">VecNorm</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">workdir</span><span class="o">=</span><span class="s2">&quot;test/1&quot;</span><span class="p">,</span> <span class="n">vec</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
    <span class="n">VecNorm</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">workdir</span><span class="o">=</span><span class="s2">&quot;test/2&quot;</span><span class="p">,</span> <span class="n">vec</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]),</span>
<span class="p">]</span>

<span class="n">BatchJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">site_id</span><span class="o">=</span><span class="n">jobs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">site_id</span><span class="p">,</span>
    <span class="n">num_nodes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">wall_time_min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">job_mode</span><span class="o">=</span><span class="s2">&quot;mpi&quot;</span><span class="p">,</span>
    <span class="n">queue</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="n">project</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># This check will block until jobs are completed; </span>
<span class="c1"># remove these lines if you don&#39;t want to wait for jobs to finish</span>
<span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">Job</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">jobs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">workdir</span><span class="p">,</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<p>Note that this example script will block until the jobs are completed.</p>
<h2 id="submitting-jobs-from-the-command-line">Submitting Jobs from the command line<a class="headerlink" href="#submitting-jobs-from-the-command-line" title="Permanent link">&para;</a></h2>
<p>You can check the Apps registered at a given Site, or across
all Sites, from the command line:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>app<span class="w"> </span>ls<span class="w"> </span>--site<span class="o">=</span>all

<span class="w">   </span>ID<span class="w">                 </span>Name<span class="w">   </span>Site
<span class="w">  </span><span class="m">286</span><span class="w">                </span>Hello<span class="w">   </span>laptop
<span class="w">  </span><span class="m">287</span><span class="w">              </span>VecNorm<span class="w">   </span>laptop
</code></pre></div>
<p>To create a Balsam Job from the CLI, you must identify the App on the command
line:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>balsam<span class="w"> </span>job<span class="w"> </span>create<span class="w"> </span>--site<span class="o">=</span>laptop<span class="w"> </span>--app<span class="w"> </span>Hello<span class="w"> </span>--workdir<span class="w"> </span>demo/hello2<span class="w"> </span>--param<span class="w"> </span><span class="nv">say_hello_to</span><span class="o">=</span><span class="s2">&quot;world2&quot;</span><span class="w"> </span>
</code></pre></div>
<p>There are many additional CLI options in job creation, which can be summarized with <code>balsam job create --help</code>.  You will usually create jobs using Python, but the CLI remains useful for monitoring workflow status:</p>
<div class="highlight"><pre><span></span><code>$ balsam job ls

ID       Site     App        Workdir          State          Tags
501649   laptop   Hello      test/1           PREPROCESSED   {}
501650   laptop   Hello      test/2           STAGED_IN      {}
</code></pre></div>
<p>BatchJobs can be submitted from the CLI, with parameters that mimic a standard scheduler interface:
<div class="highlight"><pre><span></span><code><span class="c1"># Substitute -q QUEUE and -A ALLOCATION for your project:</span>
$<span class="w"> </span>balsam<span class="w"> </span>queue<span class="w"> </span>submit<span class="w"> </span>-q<span class="w"> </span>debug<span class="w"> </span>-A<span class="w"> </span>datascience<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-t<span class="w"> </span><span class="m">10</span><span class="w"> </span>-j<span class="w"> </span>mpi<span class="w"> </span>
</code></pre></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/argonne-lcf/balsam" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../mermaid.min.js"></script>
      
    
  </body>
</html>